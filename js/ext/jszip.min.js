var JSZip=function(b,a){this.files={};this.root="";if(b){this.load(b,a)}};JSZip.signature={LOCAL_FILE_HEADER:"\x50\x4b\x03\x04",CENTRAL_FILE_HEADER:"\x50\x4b\x01\x02",CENTRAL_DIRECTORY_END:"\x50\x4b\x05\x06",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"\x50\x4b\x06\x07",ZIP64_CENTRAL_DIRECTORY_END:"\x50\x4b\x06\x06",DATA_DESCRIPTOR:"\x50\x4b\x07\x08"};JSZip.defaults={base64:false,binary:false,dir:false,date:null,compression:null};JSZip.prototype=(function(){var d=function(j,k,i){this.name=j;this.data=k;this.options=i};d.prototype={asText:function(){var i=this.data;if(i===null||typeof i==="undefined"){return""}if(this.options.base64){i=JSZipBase64.decode(i)}if(this.options.binary){i=JSZip.prototype.utf8decode(i)}return i},asBinary:function(){var i=this.data;if(i===null||typeof i==="undefined"){return""}if(this.options.base64){i=JSZipBase64.decode(i)}if(!this.options.binary){i=JSZip.prototype.utf8encode(i)}return i},asUint8Array:function(){return JSZip.utils.string2Uint8Array(this.asBinary())},asArrayBuffer:function(){return JSZip.utils.string2Uint8Array(this.asBinary()).buffer}};var b=function(m,j){var l="",k;for(k=0;k<j;k++){l+=String.fromCharCode(m&255);m=m>>>8}return l};var h=function(){var k={},l,j;for(l=0;l<arguments.length;l++){for(j in arguments[l]){if(arguments[l].hasOwnProperty(j)&&typeof k[j]==="undefined"){k[j]=arguments[l][j]}}}return k};var e=function(i){i=i||{};if(i.base64===true&&i.binary==null){i.binary=true}i=h(i,JSZip.defaults);i.date=i.date||new Date();if(i.compression!==null){i.compression=i.compression.toUpperCase()}return i};var c=function(i,l,m){var j=g(i);if(j){a.call(this,j)}m=e(m);if(m.dir||l===null||typeof l==="undefined"){m.base64=false;m.binary=false;l=null}else{if(JSZip.support.uint8array&&l instanceof Uint8Array){m.base64=false;m.binary=true;l=JSZip.utils.uint8Array2String(l)}else{if(JSZip.support.arraybuffer&&l instanceof ArrayBuffer){m.base64=false;m.binary=true;var k=new Uint8Array(l);l=JSZip.utils.uint8Array2String(k)}else{if(m.binary&&!m.base64){if(m.optimizedBinaryString!==true){l=JSZip.utils.string2binary(l)}delete m.optimizedBinaryString}}}}return this.files[i]=new d(i,l,m)};var g=function(j){if(j.slice(-1)=="/"){j=j.substring(0,j.length-1)}var i=j.lastIndexOf("/");return(i>0)?j.substring(0,i):""};var a=function(i){if(i.slice(-1)!="/"){i+="/"}if(!this.files[i]){var j=g(i);if(j){a.call(this,j)}c.call(this,i,null,{dir:true})}return this.files[i]};var f=function(m,n,k){var l=n!==m.name,p=m.asBinary(),j=m.options,r,s;r=j.date.getHours();r=r<<6;r=r|j.date.getMinutes();r=r<<5;r=r|j.date.getSeconds()/2;s=j.date.getFullYear()-1980;s=s<<4;s=s|(j.date.getMonth()+1);s=s<<5;s=s|j.date.getDate();var u=p!==null&&p.length!==0;k=j.compression||k;if(!JSZip.compressions[k]){throw k+" is not a valid compression method !"}var t=JSZip.compressions[k];var i=u?t.compress(p):"";var q="";q+="\x0A\x00";q+=l?"\x00\x08":"\x00\x00";q+=u?t.magic:JSZip.compressions.STORE.magic;q+=b(r,2);q+=b(s,2);q+=u?b(this.crc32(p),4):"\x00\x00\x00\x00";q+=u?b(i.length,4):"\x00\x00\x00\x00";q+=u?b(p.length,4):"\x00\x00\x00\x00";q+=b(n.length,2);q+="\x00\x00";return{header:q,compressedData:i}};return{load:function(j,i){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(n){var i=[],k,j,m,l;for(k in this.files){if(!this.files.hasOwnProperty(k)){continue}m=this.files[k];l=new d(m.name,m.data,h(m.options));j=k.slice(this.root.length,k.length);if(k.slice(0,this.root.length)===this.root&&n(j,l)){i.push(l)}}return i},file:function(i,k,l){if(arguments.length===1){if(i instanceof RegExp){var j=i;return this.filter(function(m,n){return !n.options.dir&&j.test(m)})}else{return this.filter(function(m,n){return !n.options.dir&&m===i})[0]||null}}else{i=this.root+i;c.call(this,i,k,l)}return this},folder:function(i){if(!i){return this}if(i instanceof RegExp){return this.filter(function(m,n){return n.options.dir&&i.test(m)})}var k=this.root+i;var l=a.call(this,k);var j=this.clone();j.root=l.name;return j},remove:function(k){k=this.root+k;var m=this.files[k];if(!m){if(k.slice(-1)!="/"){k+="/"}m=this.files[k]}if(m){if(!m.options.dir){delete this.files[k]}else{var j=this.filter(function(i,n){return n.name.slice(0,k.length)===k});for(var l=0;l<j.length;l++){delete this.files[j[l].name]}}}return this},generate:function(w){w=h(w||{},{base64:true,compression:"STORE",type:"base64"});var v=w.compression.toUpperCase();if(!JSZip.compressions[v]){throw v+" is not a valid compression method !"}var s=[],i=[],m=0;for(var j in this.files){if(!this.files.hasOwnProperty(j)){continue}var o=this.files[j];var q=this.utf8encode(o.name);var p="",u="",r=f.call(this,o,q,v);p=JSZip.signature.LOCAL_FILE_HEADER+r.header+q+r.compressedData;u=JSZip.signature.CENTRAL_FILE_HEADER+"\x14\x00"+r.header+"\x00\x00\x00\x00\x00\x00"+(this.files[j].options.dir===true?"\x10\x00\x00\x00":"\x00\x00\x00\x00")+b(m,4)+q;m+=p.length;i.push(p);s.push(u)}var t=i.join("");var n=s.join("");var l="";l=JSZip.signature.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+b(i.length,2)+b(i.length,2)+b(n.length,4)+b(t.length,4)+"\x00\x00";var k=t+n+l;switch(w.type.toLowerCase()){case"uint8array":return JSZip.utils.string2Uint8Array(k);case"arraybuffer":return JSZip.utils.string2Uint8Array(k).buffer;case"blob":return JSZip.utils.string2Blob(k);case"base64":return(w.base64)?JSZipBase64.encode(k):k;default:return k}},crc32:function(o,m){if(o===""||typeof o==="undefined"){return 0}var l=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof(m)=="undefined"){m=0}var j=0;var p=0;m=m^(-1);for(var k=0,n=o.length;k<n;k++){p=(m^o.charCodeAt(k))&255;j=l[p];m=(m>>>8)^j}return m^(-1)},clone:function(){var j=new JSZip();for(var k in this){if(typeof this[k]!=="function"){j[k]=this[k]}}return j},utf8encode:function(j){var i="";for(var l=0;l<j.length;l++){var k=j.charCodeAt(l);if(k<128){i+=String.fromCharCode(k)}else{if((k>127)&&(k<2048)){i+=String.fromCharCode((k>>6)|192);i+=String.fromCharCode((k&63)|128)}else{i+=String.fromCharCode((k>>12)|224);i+=String.fromCharCode(((k>>6)&63)|128);i+=String.fromCharCode((k&63)|128)}}}return i},utf8decode:function(j){var l="";var n=0;var p=0,o=0,m=0,k=0;while(n<j.length){p=j.charCodeAt(n);if(p<128){l+=String.fromCharCode(p);n++}else{if((p>191)&&(p<224)){m=j.charCodeAt(n+1);l+=String.fromCharCode(((p&31)<<6)|(m&63));n+=2}else{m=j.charCodeAt(n+1);k=j.charCodeAt(n+2);l+=String.fromCharCode(((p&15)<<12)|((m&63)<<6)|(k&63));n+=3}}}return l}}}());JSZip.compressions={STORE:{magic:"\x00\x00",compress:function(a){return a},uncompress:function(a){return a}}};JSZip.support={arraybuffer:(function(){return typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"})(),uint8array:(function(){return typeof Uint8Array!=="undefined"})(),blob:(function(){if(typeof ArrayBuffer==="undefined"){return false}var a=new ArrayBuffer(0);try{return new Blob([a],{type:"application/zip"}).size===0}catch(c){}try{var b=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();b.append(a);return b.getBlob("application/zip").size===0}catch(c){}return false})()};JSZip.utils={string2binary:function(c){var a="";for(var b=0;b<c.length;b++){a+=String.fromCharCode(c.charCodeAt(b)&255)}return a},string2Uint8Array:function(d){if(!JSZip.support.uint8array){throw new Error("Uint8Array is not supported by this browser")}var a=new ArrayBuffer(d.length);var c=new Uint8Array(a);for(var b=0;b<d.length;b++){c[b]=d.charCodeAt(b)}return c},uint8Array2String:function(c){if(!JSZip.support.uint8array){throw new Error("Uint8Array is not supported by this browser")}var a="";for(var b=0;b<c.length;b++){a+=String.fromCharCode(c[b])}return a},string2Blob:function(d){if(!JSZip.support.blob){throw new Error("Blob is not supported by this browser")}var a=JSZip.utils.string2Uint8Array(d).buffer;try{return new Blob([a],{type:"application/zip"})}catch(c){}try{var b=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();b.append(a);return b.getBlob("application/zip")}catch(c){}throw new Error("Bug : can't construct the Blob.")}};var JSZipBase64=(function(){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(e,d){var b="";var m,k,h,l,j,g,f;var c=0;while(c<e.length){m=e.charCodeAt(c++);k=e.charCodeAt(c++);h=e.charCodeAt(c++);l=m>>2;j=((m&3)<<4)|(k>>4);g=((k&15)<<2)|(h>>6);f=h&63;if(isNaN(k)){g=f=64}else{if(isNaN(h)){f=64}}b=b+a.charAt(l)+a.charAt(j)+a.charAt(g)+a.charAt(f)}return b},decode:function(e,d){var b="";var m,k,h;var l,j,g,f;var c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){l=a.indexOf(e.charAt(c++));j=a.indexOf(e.charAt(c++));g=a.indexOf(e.charAt(c++));f=a.indexOf(e.charAt(c++));m=(l<<2)|(j>>4);k=((j&15)<<4)|(g>>2);h=((g&3)<<6)|f;b=b+String.fromCharCode(m);if(g!=64){b=b+String.fromCharCode(k)}if(f!=64){b=b+String.fromCharCode(h)}}return b}}}());